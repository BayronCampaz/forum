{"version":3,"sources":["utils/custom-bcrypt.js","components/auth/Login.js","components/auth/Register.js","components/forum/Message.js","components/forum/Forum.js","components/forum/Profile.js","components/forum/Search.js","components/forum/NewMessage.js","components/forum/Home.js","components/admin/Modal.js","components/admin/UserResults.js","components/admin/HomeAdmin.js","App.js","serviceWorker.js","index.js"],"names":["md5","require","Bcrypt","rawPassword","options","salt","Date","getTime","rounds","hashed","i","hashedPassword","split","this","hash","error","Error","message","Login","props","sessionStorage","removeItem","useState","email","password","user","saveUser","changeError","onChange","e","target","name","value","className","onSubmit","preventDefault","trim","window","firebase","firestore","collection","doc","get","then","exists","userFromFirebase","data","compare","rol","setItem","JSON","stringify","history","push","delete","htmlFor","type","id","placeholder","to","role","Register","firstName","lastName","confirmPassword","active","length","hashPassword","userFirebase","set","Message","date","seconds","nanoseconds","formatDate","getDate","getMonth","getFullYear","getHours","getMinutes","console","log","onClickMessage","parentCallback","ownMessage","parse","getItem","src","alt","href","onClick","title","description","parentCallbackEdit","parentCallbackDelete","replies","Forum","getSelectedMessage","messageSelected","setState","messageError","getEditMessage","editMessage","getDeleteMessage","componentDidMount","state","comment","newMessage","completeComment","errorMessage","messages","bind","messagesFromFirebase","querySnapshot","forEach","dateType","map","reply","class","key","rows","Component","Profile","userSaved","isDisabled","valueButton","enable","changeEnable","disabled","Search","numMessages","where","countNum","catch","NewMessage","saveMessage","useEffect","Timestamp","fromDate","add","docRef","messageFirebase","alert","Home","actualState","page","changePage","inputSearch","search","stateSearch","keyForum","keySearch","keys","changeKey","newKey","aria-label","modalRoot","document","getElementById","Modal","children","elRef","useRef","current","div","createElement","appendChild","removeChild","createPortal","UserResults","loading","users","showModal","emailDelete","usersFromFirebase","update","setTimeout","updateUsers","hasMessages","filter","activationUser","deleteAction","deleteUser","HomeAdmin","setMessage","App","basename","exact","path","component","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.30bb790c.chunk.js","sourcesContent":["const md5 = require(\"md5\");\n\nexport default class Bcrypt  {\n\n  constructor() {\n\n  }\n \n  /**\n   *\n   *\n   * @param { string } rawPass - the password to be hashed\n   * @param { object } [options={}] - object containing salt and rounds\n   * @returns {string} \n   */\n  hash(rawPassword, options = {}) {\n    /**\n     * salt is optional, if not provided it will be set to current timestamp\n     */\n    const salt = options.salt ? options.salt : new Date().getTime();\n\n    /**\n     * rounds is optional, if not provided it will be set to 10\n     */\n    const rounds = options.rounds ? options.rounds : 10;\n\n    let hashed = md5(rawPassword + salt);\n    for (let i = 0; i <= rounds; i++) {\n      hashed = md5(hashed);\n    }\n    return `${salt}$${rounds}$${hashed}`;\n  }\n  /**\n   *\n   *\n   * @param {string} rawPassword - the raw password\n   * @param { string } hashedPassword - the hashed password\n   * @returns\n   */\n  compare(rawPassword, hashedPassword) {\n    try {\n      const [ salt, rounds ] = hashedPassword.split('$');\n      const hashedRawPassword = this.hash(rawPassword, { salt, rounds });\n      return hashedPassword === hashedRawPassword;\n    } catch (error) {\n      throw Error(error.message);\n    }\n  }\n};\n\n","import React, {useState} from 'react'\nimport { Link } from 'react-router-dom';\nimport Bcrypt from '../../utils/custom-bcrypt'\n\nconst Login = (props) => {\n    \n\n    sessionStorage.removeItem('user');\n    sessionStorage.removeItem('admin');\n\n    const [user, saveUser] = useState({\n        email: '',\n        password: ''\n    })\n\n    const [error, changeError] = useState({\n        error: false,\n        message : ''\n    })\n\n    const {email, password} = user;\n    \n    const onChange = (e) => {\n        saveUser({\n            ...user,\n            [e.target.name] : e.target.value\n        })\n\n        changeError({\n            error: false,\n            message: ''\n        })\n    }\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if(email.trim() === '' || password.trim() === '' ){\n            \n            changeError({\n                error: true,\n                message: 'No pueden haber campos vacios'\n            })\n            return;\n        }\n\n        window.firebase.firestore().collection('users').doc(user.email).get().then(function(doc){\n            if (doc.exists) {\n                const userFromFirebase = doc.data();\n                \n                //const bcrypt = require('../../utils/custom-bcrypt');\n                const bcrypt = new Bcrypt();\n                if(bcrypt.compare(user.password, userFromFirebase.password)) {\n                    \n                    if(userFromFirebase.rol){\n                        sessionStorage.setItem('admin', JSON.stringify(userFromFirebase));\n                        props.history.push('/home-admin');\n                    }else{\n                        sessionStorage.setItem('user', JSON.stringify(userFromFirebase));\n                        props.history.push('/home');\n                    }\n                    \n                }else {\n                    changeError({\n                        error: true,\n                        message: 'La contraseña es incorrecta'\n                    })\n                }\n            }else{\n                window.firebase.firestore().collection('users').doc(user.email).delete()\n\n                changeError({\n                    error: true,\n                    message: 'El email no se encuentra registrado'\n                })\n            }\n        });\n    }\n\n    return (\n        <div className=\"form-login\">\n            <div className=\"container-form\">\n                <h1>Iniciar Sesión</h1>\n                <form onSubmit={onSubmit}>\n                    <div className=\"element-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            value = {email}\n                            placeholder=\"Email\"\n                            onChange={onChange}/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"password\">Contraseña</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            value = {password}\n                            placeholder=\"Contraseña\"\n                            onChange={onChange}/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <input type=\"submit\" className=\"btn btn-primary btn-block\" value=\"Iniciar Sesión\"/>\n                    </div>\n                </form>\n\n                <Link to= {'/register'} className=\"link-account\">\n                    Registrarse\n                </Link>\n                {error.error &&\n                            <div className=\"alert alert-danger\" role=\"alert\">{error.message}</div>\n                        }\n            </div>\n        </div>\n    );\n}\n\nexport default Login ","import React, {useState, useEffect} from 'react'\nimport { Link } from 'react-router-dom';\nimport Bcrypt from '../../utils/custom-bcrypt'\n\nconst Register = (props) => {\n\n\n    sessionStorage.removeItem('user');\n\n    const [user, saveUser] = useState({\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        active : true\n    })\n\n    const [error, changeError] = useState({\n        error: false,\n        message : ''\n    })\n    \n    const {firstName, lastName, email, password, confirmPassword, active} = user;\n    \n    const onChange = (e) => {\n        saveUser({\n            ...user,\n            [e.target.name] : e.target.value\n        })\n\n        changeError({\n            error: false,\n            message: ''\n        })\n    }\n\n    const onSubmit = e => {\n        e.preventDefault();\n\n        //Hacer validaciones aqui\n        if(firstName.trim() === '' || lastName.trim() === '' || email.trim() === '' || \n            password.trim() === '' || confirmPassword.trim() === '' ){\n                \n                changeError({\n                    error: true,\n                    message: 'No pueden haber campos vacios'\n                })\n\n\n                return;\n            }\n        if(password.length < 6 ){\n            changeError({\n                error: true,\n                message: 'La contraseña debe tener al menos 6 caracteres'\n            })\n            return;\n        }\n\n        if(password !== confirmPassword){\n            changeError({\n                error: true,\n                message: 'Las contraseñas no concuerdan'\n            })\n            return;\n        }\n\n        //const bcrypt = require('../../utils/custom-bcrypt');\n        const bcrypt = new Bcrypt();\n        const hashPassword = bcrypt.hash(user.password);\n        saveUser({\n            ...user,\n            password : hashPassword\n        })\n        \n        const userFirebase = {\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            password: hashPassword,\n            active : active\n        }\n\n        window.firebase.firestore().collection('users').doc(user.email).get().then(function(doc){\n            if (doc.exists) {\n\n                changeError({\n                    error: true,\n                    message: 'El email ya se encuentra registrado'\n                })\n\n                saveUser({\n                    ...user,\n                    email : '',\n                    password : '',\n                    confirmPassword : ''\n                })\n            } else {\n                window.firebase.firestore().collection(\"users\").doc(userFirebase.email).set(userFirebase)\n                sessionStorage.setItem('user', JSON.stringify(userFirebase));\n                props.history.push('/home');\n            }\n        });\n    }\n\n    return (\n        <div className=\"form-login\">\n            <div className=\"container-form\">\n                <h1>Registrarse</h1>\n                <form onSubmit={onSubmit}>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"firstName\">Nombres</label>\n                        <input\n                            type=\"text\"\n                            id=\"firstName\"\n                            name=\"firstName\"\n                            value = {firstName}\n                            placeholder=\"Nombres\"\n                            onChange={onChange}/>\n                    </div>\n\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"lastName\">Apellidos</label>\n                        <input\n                            type=\"text\"\n                            id=\"lastName\"\n                            name=\"lastName\"\n                            value = {lastName}\n                            placeholder=\"Apellidos\"\n                            onChange={onChange}/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            value = {email}\n                            placeholder=\"Email\"\n                            onChange={onChange}/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"password\">Contraseña</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            value = {password}\n                            placeholder=\"Contraseña\"\n                            onChange={onChange}/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"confirmPassword\">Confirmar Contraseña</label>\n                        <input\n                            type=\"password\"\n                            id=\"confirmPassword\"\n                            name=\"confirmPassword\"\n                            value = {confirmPassword}\n                            placeholder=\"Reescribe tu contraseña\"\n                            onChange={onChange}/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <input type=\"submit\" className=\"btn btn-primary btn-block\" value=\"Registrarse\"/>\n                    </div>\n                </form>\n\n                <Link to= {'/'} className=\"link-account\">\n                    Inicio de sesión\n                </Link>\n                {error.error &&\n                            <div className=\"alert alert-danger\" role=\"alert\">{error.message}</div>\n                        }\n            </div>\n        </div>\n    );\n}\n\nexport default Register; ","import React, { useState } from 'react'\n\nconst Message = (props) => {\n\n\n\tconst date = new Date(props.message.date.seconds * 1000 + props.message.date.nanoseconds/1000)\n\tconst formatDate = `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}    ${date.getHours()}:${date.getMinutes()}`\n\tconsole.log(date)\n\n\tconst onClickMessage = e => {\n\t\te.preventDefault();\n\t\tprops.parentCallback(props.message)\n\t\t\n\t}\n\n\tconst onClickEdit = e => {\n\t\te.preventDefault();\n\t\tprops.parentCallbackEdit(props.message)\n\t\t\n\t}\n\n\tconst onClickDelete = e => {\n\t\te.preventDefault();\n\t\tprops.parentCallbackDelete(props.message)\n\t\twindow.firebase.firestore().collection(\"messages\").doc(props.message.id).delete()\n\t\t\n\t}\n\tconst ownMessage = (props.message.user.email === JSON.parse(sessionStorage.getItem('user')).email);\n\n\treturn (\n\n\t\t<div className=\"media message mb-1\">\n\t\t\t<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1200px-Circle-icons-profile.svg.png\" className=\"size-image mr-3 p-3\" alt=\"...\" />\n\t\t\t<div className=\"media-body  p-3\">\n\t\t\t\t<a className=\"mt-0 btn-outline-danger\" href=\"\"  onClick={onClickMessage} ><strong>{props.message.title}</strong></a>\n\n\t\t\t\t<h4>{props.message.description}</h4>\n\t\t\t\t{ownMessage &&\n                            <a className=\"mt-2 mr-5 pt-1 pb-1 pl-5 pr-5 btn btn-danger\" role=\"alert\" onClick={onClickEdit}>  Editar  </a>\n                    }\n\t\t\t\t{ownMessage &&\n                            <a className=\"mt-2 pt-1 pb-1 pl-5 pr-5 btn btn-danger\" role=\"alert\" onClick={onClickDelete}>  Eliminar  </a>\n                    }\n\t\t\t</div>\n\t\t\t<div className=\"m-4 center-block\">\n\t\t\t<a className=\"mb-4 align-middle\" href=\"/\" onClick={onClickMessage}> {props.message.replies.length} respuestas</a>\n\t\t\t<h5>{props.message.user.firstName + \" \" + props.message.user.lastName} </h5>\n\t\t\t<h5>{formatDate}</h5>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\t);\n\n}\n\n\nexport default Message","import React, { Component } from 'react';\nimport Message from './Message';\n\n\nclass Forum extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            messages: [],\n            comment: ''\n        }\n\n        this.getSelectedMessage = this.getSelectedMessage.bind(this);\n        this.onChange = this.onChange.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n\n    }\n    componentDidMount() {\n        var messagesFromFirebase = []\n\n        window.firebase.firestore().collection(\"messages\").get().then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n\n                messagesFromFirebase.push(doc.data())\n                console.log(doc.id, \" => \", doc.data());\n            });\n\n            this.setState({\n                messages: messagesFromFirebase\n            })\n        });\n        console.log(this.state);\n    }\n\n    getSelectedMessage = (messageSelected) => {\n        this.setState({ \n            message: messageSelected,\n            messageError: '' \n         })\n    }\n    \n    getEditMessage = (message) => {\n        this.props.editMessage(message)\n    }\n\n    \n    getDeleteMessage = (message) => {\n        this.componentDidMount()\n    }\n\n    onChange = (e) => {\n        this.setState({\n            ...this.state,\n            [e.target.name] : e.target.value,\n            errorMessage : ''\n        })\n\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n        if(this.state.comment.trim() === '' ){\n            \n            this.setState({\n                ...this.state,\n                messageError: 'No pueden haber campos vacios'\n            })\n            return;\n        }\n\n        const newMessage = this.state.message;\n        const completeComment = {\n            id : this.state.message.replies.length,\n            description : this.state.comment,\n            user: JSON.parse(sessionStorage.getItem('user')),\n        }\n        newMessage.replies.push(completeComment)\n\n        this.setState({\n            message : newMessage,\n            comment : '',\n            errorMessage : ''\n        })\n\n        console.log(newMessage)\n        window.firebase.firestore().collection(\"messages\").doc(newMessage.id).set(this.state.message)\n\n    }\n\n    render() {\n\n        const { messages } = this.state;\n\n        if (this.state.message) {\n\n            const { id, title, description, date, user, replies } = this.state.message;\n\n            const dateType = new Date(date.seconds * 1000 + date.nanoseconds / 1000)\n            const formatDate = `${dateType.getDate()}-${dateType.getMonth() + 1}-${dateType.getFullYear()}    ${dateType.getHours()}:${dateType.getMinutes()}`\n\n            return (\n                <div className='container'>\n                    <div className=\"media message m-5 \">\n                    <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1200px-Circle-icons-profile.svg.png\" className=\"size-image mr-3 p-3\" alt=\"...\" />\n                    <div className=\"media-body  p-3\">\n                        <h3 className=\"mt-0\"><strong>{title}</strong></h3>\n                        <h4>{description}</h4>\n\n                        {\n                            replies.map(reply => (\n                                \n                                <div class=\"media message m-5\"key={reply.id}>\n                                <a class=\"mr-3\" href=\"#\">\n                                  <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1200px-Circle-icons-profile.svg.png\" className=\"size-image mr-3 p-3\" alt=\"...\"/>\n                                </a>\n                                <div class=\"media-body pt-4\">\n                                    <h5 class=\"mt-0\">{reply.user.firstName + \" \" + reply.user.lastName}</h5>\n                                   {reply.description}\n                                </div>\n                              </div>\n                            ))\n                        }\n\n                    </div>\n                    <div className=\"m-4 center-block\">\n                        <h4 className=\"mb-4 align-middle\"> {replies.length} respuestas</h4>\n                        <h5>{user.firstName + \" \" + user.lastName} </h5>\n                        <h5>{formatDate}</h5>\n                    </div>\n\n                </div>\n\n                     <form onSubmit={this.onSubmit} >\n                            <div className=\"element-form\">\n                                <textarea className=\"form-control textarea\"\n                                    id=\"comment\"\n                                    name=\"comment\"\n                                    value={this.state.comment}\n                                    placeholder=\"Comentarios\"\n                                    onChange={this.onChange}\n                                    rows=\"3\" />\n                            </div>\n                            <input type=\"submit\" className=\"btn btn-dark btn-block\" value=\"Comentar\" />\n                        </form>\n                        {this.state.errorMessage &&\n                            <div className=\"alert alert-danger\" role=\"alert\">{this.state.errorMessage}</div>\n                        }\n                </div>\n            );\n\n        } else {\n            return (\n                <div className='container'>\n                    <h1 className=\"m-4 title-forum\">Publicaciones del Foro</h1>\n                    {messages.map(message => (\n                        <Message key={message.id}\n                            message={message} parentCallback={this.getSelectedMessage} \n                            parentCallbackEdit={this.getEditMessage} parentCallbackDelete={this.getDeleteMessage} />\n                    ))}\n                </div>\n            );\n        }\n\n    }\n}\n\nexport default Forum","import React, { useState } from 'react'\nimport Bcrypt from '../../utils/custom-bcrypt'\n\nconst Profile = (props) => {\n\n    var userSaved = (sessionStorage.getItem('user')) ? JSON.parse(sessionStorage.getItem('user')) : JSON.parse(sessionStorage.getItem('admin'));\n\n    const [user, saveUser] = useState({\n        firstName: userSaved.firstName,\n        lastName: userSaved.lastName,\n        email: userSaved.email,\n        password: '',\n        active: userSaved.active\n    })\n\n    const [enable, changeEnable] = useState({\n        isDisabled: true,\n        valueButton: \"Editar informacion\"\n    })\n\n    const [error, changeError] = useState({\n        error: false,\n        message: ''\n    })\n\n    const { firstName, lastName, email, password, active } = user;\n\n    const onChange = (e) => {\n        saveUser({\n            ...user,\n            [e.target.name]: e.target.value\n        })\n\n        changeError({\n            error: false,\n            message: ''\n        })\n    }\n\n    const onSubmit = e => {\n        e.preventDefault();\n\n        if (enable.isDisabled) {\n\n            changeEnable({\n                isDisabled: false,\n                valueButton: \"Confirmar cambios\"\n            })\n\n        } else {\n\n            //Hacer validaciones aqui\n            if (firstName.trim() === '' || lastName.trim() === '' || email.trim() === '' ||\n                password.trim() === '' ) {\n\n                changeError({\n                    error: true,\n                    message: 'No pueden haber campos vacios'\n                })\n\n\n                return;\n            }\n            if (password.length < 6) {\n                changeError({\n                    error: true,\n                    message: 'La contraseña debe tener al menos 6 caracteres'\n                })\n                return;\n            }\n\n            const bcrypt = new Bcrypt()\n            const hashPassword = bcrypt.hash(user.password);\n            \n\n            const userFirebase = {\n\n                firstName: user.firstName,\n                lastName: user.lastName,\n                email: user.email,\n                password: hashPassword,\n                active : user.active\n            }\n\n            console.log(user)\n            \n            window.firebase.firestore().collection(\"users\").doc(userFirebase.email).set(userFirebase)\n            sessionStorage.removeItem('user')\n            sessionStorage.setItem('user', JSON.stringify(userFirebase));\n\n            changeEnable({\n                isDisabled: true,\n                valueButton: \"Editar informacion\"\n            })\n            console.log(user)\n        }\n\n    }\n\n\n\n    return (\n        <div className=\"form-login\">\n            <div className=\"container-form\">\n                <h1>PERFIL</h1>\n                <form onSubmit={onSubmit}>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"firstName\">Nombres</label>\n                        <input\n                            type=\"text\"\n                            id=\"firstName\"\n                            name=\"firstName\"\n                            value={firstName}\n                            placeholder=\"Nombres\"\n                            onChange={onChange}\n                            disabled={enable.isDisabled} />\n                    </div>\n\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"lastName\">Apellidos</label>\n                        <input\n                            type=\"text\"\n                            id=\"lastName\"\n                            name=\"lastName\"\n                            value={lastName}\n                            placeholder=\"Apellidos\"\n                            onChange={onChange}\n                            disabled={enable.isDisabled} />\n                    </div>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            value={email}\n                            placeholder=\"Email\"\n                            onChange={onChange} \n                            disabled={enable.isDisabled}/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <label htmlFor=\"password\">Contraseña</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            value={password}\n                            placeholder=\"Contraseña\"\n                            onChange={onChange}\n                            disabled={enable.isDisabled} />\n                    </div>\n\n\n                    <div className=\"element-form\">\n                        <input type=\"submit\" className=\"btn btn-primary btn-block\" value={enable.valueButton} />\n                    </div>\n                </form>\n\n                {error.error &&\n                    <div className=\"alert alert-danger\" role=\"alert\">{error.message}</div>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default Profile; ","import React, {Component} from 'react'\nimport { Link } from 'react-router-dom';\n\nclass Search extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            firstName: props.firstName,\n            lastName: \"\",\n            email: \"\",\n            active: true,\n            numMessages: 0\n        }\n    }\n\n    componentDidMount() {\n\n    window.firebase.firestore().collection(\"users\").where(\"firstName\", \"==\", this.state.firstName)\n    .get()\n    .then((querySnapshot) => {\n        console.log(querySnapshot);\n        querySnapshot.forEach((doc) => {\n            if(doc.data().firstName){\n                var countNum = 0;\n                window.firebase.firestore().collection(\"messages\").where(\"user.email\", \"==\", doc.data().email)\n                .get()\n                .then((querySnapshot) => {\n                    querySnapshot.forEach((doc) => {\n                        countNum++;\n                        console.log(countNum)\n                        console.log(doc.id, \" =>>>>>>>>>>>>> \", doc.data());\n                        this.setState({\n                            numMessages : countNum\n                        })\n                    });\n                })\n                .catch(function(error) {\n                    console.log(\"Error getting documents: \", error);\n                });\n                console.log(\"--------> \" + countNum)\n                this.setState({\n                    firstName: doc.data().firstName,\n                    lastName: doc.data().lastName,\n                    email: doc.data().email,\n                    active: doc.data().active,\n                    numMessages: countNum\n                });\n            }\n            console.log(doc.id, \" =>>>>>>>>>>>>> \", doc.data());\n        });\n    })\n    .catch(function(error) {\n        console.log(\"Error getting documents: \", error);\n    });\n    \n    }\n    \n    render(){\n\n        if(this.state.email){\n            return (\n                <div className=\"form-login\">\n                    <div className=\"container-form\">\n                        <h1>Datos de la busqueda</h1>\n                            <div className=\"element-form\">\n                                <label htmlFor=\"firstName\">Nombres</label>\n                                <input\n                                    type=\"text\"\n                                    id=\"firstName\"\n                                    name=\"firstName\"\n                                    value={this.state.firstName}\n                                    disabled />\n                            </div>\n        \n                            <div className=\"element-form\">\n                                <label htmlFor=\"lastName\">Apellidos</label>\n                                <input\n                                    type=\"text\"\n                                    id=\"lastName\"\n                                    name=\"lastName\"\n                                    value={this.state.lastName}\n                                    disabled/>\n                            </div>\n        \n                            <div className=\"element-form\">\n                                <label htmlFor=\"email\">Email</label>\n                                <input\n                                    type=\"email\"\n                                    id=\"email\"\n                                    name=\"email\"\n                                    value={this.state.email}\n                                    disabled/>\n                            </div>\n        \n                            {this.state.active &&\n                                <div className=\"alert alert-success\" role=\"alert\">\n                                El usuario esta activo\n                              </div>\n                            }\n                            {!this.state.active &&\n                                <div className=\"alert alert-danger\" role=\"alert\">\n                                El usuario esta inactivo\n                              </div>\n                            }\n                            \n                            <label className=\"element-form\"> Numero de mensajes : { this.state.numMessages }</label>\n                    </div>\n                </div>\n            );\n        }else{\n            return (\n                <div className=\"form-login\">\n                    <div className=\"container-form\">\n                        <h1>No se encontro ningún usuario con ese nombre</h1>\n                    </div>\n                </div>\n            );\n        }\n\n    }\n\n    \n    \n}\n\nexport default Search ","import React, {useState, useEffect} from 'react'\n\nconst NewMessage = (props) => {\n    \n    const [message, saveMessage] = useState({\n        id: '',\n        title: '',\n        description: '',\n        date: '',\n        user: JSON.parse(sessionStorage.getItem('user')),\n        replies : []\n        \n    })\n\n    useEffect(() => {\n        if(props.message){\n\n            saveMessage({\n                id: props.message.id,\n                title: props.message.title,\n                description: props.message.description,\n                date: props.message.date,\n                user: JSON.parse(sessionStorage.getItem('user')),\n                replies : props.message.replies\n            })\n        }\n    \n      }, []);\n\n    const [error, changeError] = useState({\n        error: false,\n        message : ''\n    })\n\n    const {id, title, description, date, user, replies} = message;\n    \n    const onChange = (e) => {\n        saveMessage({\n            ...message,\n            [e.target.name] : e.target.value\n        })\n\n        changeError({\n            error: false,\n            message: ''\n        })\n    }\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if(title.trim() === '' || description.trim() === '' ){\n            \n            changeError({\n                error: true,\n                message: 'No pueden haber campos vacios'\n            })\n            return;\n        }\n\n        saveMessage({\n            ...message,\n            date : window.firebase.firestore.Timestamp.fromDate(new Date())\n        })\n\n        if(message.id !== \"\"){\n            window.firebase.firestore().collection(\"messages\").doc(message.id).delete()\n        }\n        \n\n        window.firebase.firestore().collection(\"messages\").add({\n            message\n        })\n        .then(function(docRef) {\n            console.log(\"Document written with ID: \", docRef.id);\n            saveMessage({\n                ... message,\n                id : docRef.id\n            })\n            const messageFirebase = {\n                id: docRef.id,\n                title: title,\n                description: description,\n                date: window.firebase.firestore.Timestamp.fromDate(new Date()),\n                user: JSON.parse(sessionStorage.getItem('user')),\n                replies : replies\n            }\n            window.firebase.firestore().collection(\"messages\").doc(docRef.id).set(messageFirebase)\n            \n            saveMessage({\n                id: '',\n                title: '',\n                description: '',\n                date: '',\n                user: JSON.parse(sessionStorage.getItem('user')),\n                replies : []\n            })\n        })\n        .catch(function(error) {\n            console.error(\"Error adding document: \", error);\n        });\n        alert(\"Publicacion realizada exitosamente\")\n    }\n\n    return (\n        <div className=\"form-login\">\n            <div className=\"container-new-message\">\n                <h1>Nueva Publicacion</h1>\n                <form onSubmit={onSubmit}>\n\n                    <label htmlFor=\"email\">Titulo</label>\n                    <div className=\"element-form\">\n                        <input\n                            type=\"text\"\n                            id=\"title\"\n                            name=\"title\"\n                            value = {title}\n                            placeholder=\"Escribe el titulo de la publicacion\"\n                            onChange={onChange}/>\n                    </div>\n\n                    <label htmlFor=\"password\">Descripcion</label>\n                    <div className=\"element-form\">\n                        <textarea className=\"form-control textarea\" \n                            id=\"description\" \n                            name=\"description\"\n                            value={description}\n                            placeholder=\"Escribe la descripcion de la publicacion\"\n                            onChange={onChange}\n                            rows=\"5\"/>\n                    </div>\n\n                    <div className=\"element-form\">\n                        <input type=\"submit\" className=\"btn btn-primary btn-block\" value=\"Publicar\"/>\n                    </div>\n                </form>\n                {error.error &&\n                            <div className=\"alert alert-danger\" role=\"alert\">{error.message}</div>\n                        }\n            </div>\n        </div>\n    );\n}\n\nexport default NewMessage ","import React, { useState } from \"react\";\nimport Forum from \"./Forum\";\nimport { Route, Redirect, Link } from \"react-router-dom\";\nimport Profile from \"./Profile\";\nimport Search from \"./Search\";\nimport NewMessage from \"./NewMessage\";\n\n\n\nconst Home = () => {\n\n  const FORUM = 'forum'\n  const PROFILE = 'profile'\n  const SEARCH = 'search'\n  const NEW_MESSAGE = 'newMessage'\n  const EDIT_MESSAGE = 'editMessage'\n\n\n  const [page, changePage] = useState({\n    actualState: FORUM\n  })\n\n  const [search, stateSearch] = useState({\n    inputSearch: ''\n  })\n\n  const [keys, changeKey] = useState({\n    keyForum: 0,\n    keySearch : 0\n  })\n\n  const onChangeSearch = (e) => {\n    stateSearch({\n      inputSearch: e.target.value\n    })\n  }\n\n  const onSubmitSearch = e => {\n    e.preventDefault();\n    changePage({\n      actualState: SEARCH\n    })\n    const newKey = keys.keySearch + 1\n    changeKey({\n      ...keys,\n      keySearch : newKey\n    })\n  }\n\n  const changeToProfile = () => {\n    changePage({\n      actualState: PROFILE\n    })\n  }\n\n  const changeToForum = () => {\n    changePage({\n      actualState: FORUM\n    })\n    const newKey = keys.keyForum + 1\n    changeKey({\n      ...keys,\n      keyForum : newKey\n    })\n  }\n\n  const changeToNewMessage = () => {\n    changePage({\n      actualState: NEW_MESSAGE\n    })\n  }\n\n  const editMessageHome = (message) => {\n    if(message){\n       changePage({\n        actualState: EDIT_MESSAGE,\n        message : message\n       })\n    }\n  }\n\n\n\n  return (\n    <Route>\n      {\n        sessionStorage.getItem('user') ? (\n          <div>\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n\n              <button className=\"btn btn-outline-danger my-2 my-sm-0\" onClick={changeToForum}>Forum</button>\n\n              <div className=\"collapse navbar-collapse ml-5\" id=\"navbarSupportedContent\">\n                <form className=\"form-inline mr-auto\" onSubmit={onSubmitSearch}>\n                  <input\n                    className=\"form-control mr-sm-2\"\n                    type=\"search\"\n                    value={search.inputSearch}\n                    placeholder=\"Buscar\"\n                    aria-label=\"Search\"\n                    onChange={onChangeSearch}\n                  />\n                  <button className=\"btn btn-outline-danger my-2 my-sm-0\" type=\"submit\">\n                    Buscar\n                </button>\n                </form>\n\n                <button className=\"btn btn-danger my-2 my-sm-0 m-5\" onClick={changeToNewMessage}>Publicar Mensaje</button>\n\n                <ul className=\"navbar-nav my-2 my-lg-0\">\n                  <li>\n                    <button className=\"btn btn-outline-danger my-2 my-sm-0\" onClick={changeToProfile}>Ver Perfil</button>\n                  </li>\n\n                  <li>\n                    <Link to={'/'} className=\"btn btn-outline-danger my-2 my-sm-0\">Cerrar sesión</Link>\n                  </li>\n\n                </ul>\n              </div>\n            </nav>\n            {(page.actualState === FORUM) ? <Forum key={keys.keyForum} editMessage={editMessageHome} /> :\n             (page.actualState === PROFILE) ? <Profile /> :\n             (page.actualState === SEARCH) ? <Search firstName={search.inputSearch} key={keys.keySearch}/> :\n             (page.actualState === NEW_MESSAGE)  ?  <NewMessage /> : <NewMessage message={page.message}/>\n            }\n\n          </div>\n          ) : sessionStorage.getItem('admin') ? (<Redirect to=\"/home-admin\" /> ) : (<Redirect to=\"/\" /> )\n\n      }\n\n    </Route>\n\n  );\n}\n\nexport default Home;\n","import React, { useEffect, useRef } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.getElementById(\"modal\");\nconst Modal = ({ children }) => {\n  const elRef = useRef(null);\n  if (!elRef.current) {\n    const div = document.createElement(\"div\");\n    elRef.current = div;\n  }\n\n  useEffect(() => {\n    modalRoot.appendChild(elRef.current);\n\n    //run this whenever the modalRoot get closed\n    return () => modalRoot.removeChild(elRef.current);\n  }, []);\n\n  return createPortal(<div>{children}</div>, elRef.current);\n};\n\nexport default Modal;","import React, {Component} from 'react';\nimport User from './User';\nimport Modal from \"./Modal\";\n\nclass UserResults extends Component{\n\n    constructor() {\n        super();\n        this.state = {\n        loading: true,\n          users: [],\n          showModal: false,\n          emailDelete: \"\"\n        };\n      }\n\n\n\n      async updateUsers(){\n\n        var usersFromFirebase = []\n       await window.firebase.firestore().collection(\"users\").get().then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n\n                usersFromFirebase.push(doc.data())\n                console.log( doc.data());\n            });\n\n            \n        });\n        this.setState({\n            users: usersFromFirebase,\n            loading: false,\n            showModal: false\n        })\n        \n        console.log('hizofetch',this.state);\n    }\n\n\n    async activationUser(email, value){\n\n        //console.log('lol', email , value)\n        window.firebase.firestore().collection(\"users\").doc(email).update({\"active\" : value});\n\n\n         setTimeout(() => {\n             this.updateUsers();\n           }, 1000);\n\n    }\n\n    \n\n\n    deleteUser(email){\n\n        let hasMessages = false;\n\n        window.firebase.firestore().collection(\"messages\").where(\"user.email\", \"==\", email).get()\n        .then(function(querySnapshot) {\n            querySnapshot.forEach(function(doc) {\n                // doc.data() is never undefined for query doc snapshots\n                if(doc.exists){\n                    hasMessages = true;\n                    \n                }\n            });\n            if(hasMessages){\n                alert('posee mensajes asociados, no se puede eliminar');\n            }\n            else{\n            alert('Eliminado Exitosamente!');\n            window.firebase.firestore().collection('users').doc(email).delete().then(function() {\n                //alert('Eliminado Exitosamente!');\n            }).catch(function(error) {\n                console.error(\"Error removing document: \", error);\n            });\n        }\n            \n            \n        })\n        .catch(function(error) {\n            console.log(\"Error getting documents: \", error);\n        });\n        this.setState({loading:true});\n        //importante esperar para que firebase se actualice, esto me tuvo hasta las 3 am\n       setTimeout(() => {\n            this.updateUsers();\n          }, 3000);\n\n          \n        \n\n    \n    }\n\n\n  \n\n    componentDidMount(){\n        //cargar los usuarios\n        this.updateUsers();\n    }\n\n    deleteAction(email){\n            this.setState({ emailDelete: email, showModal: !this.state.showModal});\n    }\n\n    \n\n\n    render (){\n\n        if (this.state.loading) {\n            return <h1>Loading ...</h1>;\n          }\n\n          \n          const { users, showModal, emailDelete } = this.state;\n          return (\n\n            <div >\n                {\n                    users.length === 0 ?\n                    (<h1>No Users found</h1>) : (\n                        users.filter((user) => user.email !== JSON.parse(sessionStorage.getItem(\"admin\")).email ).map((user) => (\n                            <div key={user.email} className=\"media user m-5\">\n                            <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1200px-Circle-icons-profile.svg.png\" className=\"size-image mr-3 p-3\" alt=\"...\" />\n                            <div  className=\"w-50\">\n                                \n                                <h3 className=\"media-heading\">Email: {user.email} <span className={user.active ? \"badge badge-success\" : \"badge badge-danger\"}>{user.active ? \"Activo\" : \"Inactivo\"}</span></h3>\n                                <h3 className=\"media-heading\">firstName: {user.firstName}</h3>\n                                <h3 className=\"media-heading\">lastName: {user.lastName}</h3>\n                                \n                            </div>\n                        <button className={user.active ? \"btn btn-danger\" : \"btn btn-success\"}  onClick={() => this.activationUser(user.email, !user.active)}>{user.active ? \"Desactivar\" : \"Activar\"}</button>\n                          <button className=\"btn btn-dark ml-5\" value={user.email} onClick={e => this.deleteAction(e.target.value)}>Borrar</button>\n                          \n                         \n                          </div>\n                        ))\n                    )\n                }\n                 {showModal ? (\n            <Modal>\n              <div>\n                <h1>Desea eliminar a {emailDelete}?</h1>\n                <button onClick={() => this.deleteUser(emailDelete)}>Sí</button>\n                <button onClick={() => this.deleteAction(\"\")}>\n                  No\n                </button>\n              </div>\n            </Modal>\n          ) : null}\n            </div>\n        );\n    }\n\n}\n\nexport default UserResults;\n\n\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Redirect, Link } from \"react-router-dom\";\nimport UserResults from './UserResults';\nimport Profile from '../forum/Profile';\n\n\nconst HomeAdmin = () => {\n\n  const HOME_ADMIN = \"HomeAdmin\";\n  const USERS = \"Users\";\n  const PROFILE =\"Profile\";\n  const MESSAGE_1 = \"Welcome!\";\n  const MESSAGE_2 = \"Usuarios\";\n  const MESSAGE_3 = \"Perfil\";\n\n\n\n\n\n  const [page, changePage] = useState(HOME_ADMIN);\n  const [message, setMessage] = useState(MESSAGE_1);\n\n  // useEffect(() => {\n  //   console.log(page);\n  // }, [page])\n  \n  const changeToUsers = () => {\n    changePage({\n      actualState: USERS\n    })\n\n    setMessage(MESSAGE_2)\n    \n  }\n\n  const changeToProfile = () => {\n    changePage({\n      actualState: PROFILE\n    })\n\n    setMessage(MESSAGE_3)\n  }\n\n  const changeToHome = () => {\n    changePage({\n      actualState: HOME_ADMIN\n    })\n    setMessage(MESSAGE_1)\n    \n  }\n\n\n\n\n    return (\n        <Route>\n          {\n            sessionStorage.getItem('admin') ? (\n              <div>\n              \n              <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    \n                \n    \n                <div className=\"collapse navbar-collapse ml-5\" id=\"navbarSupportedContent\">\n                <div className=\"navbar-brand mr-auto\" onClick={page === HOME_ADMIN ? null : changeToHome}>\n                    Admin Dashboard\n                </div>\n    \n                  \n        \n                  <ul className=\"navbar-nav my-2 my-lg-0\">\n\n                    <li>\n                        <button className=\"btn btn-outline-danger my-2 my-sm-0\" onClick={page === USERS ? null : changeToUsers}>Usuarios</button>\n                    </li>\n\n                    <li>\n                      <button className=\"btn btn-outline-danger my-2 my-sm-0\" onClick={page === PROFILE ? null : changeToProfile}>Ver Perfil</button>\n                    </li>\n    \n                    <li>\n                    <Link to= {'/'} className=\"btn btn-outline-danger my-2 my-sm-0\">Cerrar sesión</Link>\n                    </li>\n    \n                  </ul>\n                </div>\n              </nav>\n              \n              \n\n            \n            <div className=\"container-form my-auto mx-auto\">\n                <h1 className=\"display-4 my-auto mx-auto text-center\">{message}</h1>\n                \n            </div>\n     \n            { (page.actualState === PROFILE) ? <Profile/> : \n              (page.actualState === USERS) ? <UserResults/> :\n              null\n            }\n    \n            </div>\n            ) :  sessionStorage.getItem('user') ? (<Redirect to=\"/home\" /> ) : (<Redirect to=\"/\" /> ) \n          }\n    \n        </Route>   \n    \n      );\n}\n\n\nexport default HomeAdmin;","import React from 'react';\nimport Login from './components/auth/Login'\nimport Register from './components/auth/Register'\nimport Home from './components/forum/Home'\nimport HomeAdmin from './components/admin/HomeAdmin'\n\nimport {HashRouter, Switch, Route} from 'react-router-dom'\n\n\nfunction App() {\n\n  \n\n  return (\n    <HashRouter basename=\"/\">\n      <Switch>\n        <Route exact path = \"/\" component={Login}></Route>\n        <Route exact path = \"/register\" component={Register}></Route>\n        <Route exact path = \"/home\" component={Home}></Route>\n        <Route exact path = \"/home-admin\" component={HomeAdmin}></Route>\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}